<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        /*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */

        /* Document
           ========================================================================== */

        /**
         * 1. Correct the line height in all browsers.
         * 2. Prevent adjustments of font size after orientation changes in iOS.
         */

        html {
            line-height: 1.15; /* 1 */
            -webkit-text-size-adjust: 100%; /* 2 */
        }

        /* Sections
           ========================================================================== */

        /**
         * Remove the margin in all browsers.
         */

        body {
            margin: 0;
        }

        /**
         * Render the `main` element consistently in IE.
         */

        main {
            display: block;
        }

        /**
         * Correct the font size and margin on `h1` elements within `section` and
         * `article` contexts in Chrome, Firefox, and Safari.
         */

        h1 {
            font-size: 2em;
            margin: 0.67em 0;
        }

        /* Grouping content
           ========================================================================== */

        /**
         * 1. Add the correct box sizing in Firefox.
         * 2. Show the overflow in Edge and IE.
         */

        hr {
            box-sizing: content-box; /* 1 */
            height: 0; /* 1 */
            overflow: visible; /* 2 */
        }

        /**
         * 1. Correct the inheritance and scaling of font size in all browsers.
         * 2. Correct the odd `em` font sizing in all browsers.
         */

        pre {
            font-family: monospace, monospace; /* 1 */
            font-size: 1em; /* 2 */
        }

        /* Text-level semantics
           ========================================================================== */

        /**
         * Remove the gray background on active links in IE 10.
         */

        a {
            background-color: transparent;
        }

        /**
         * 1. Remove the bottom border in Chrome 57-
         * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.
         */

        abbr[title] {
            border-bottom: none; /* 1 */
            text-decoration: underline; /* 2 */
            text-decoration: underline dotted; /* 2 */
        }

        /**
         * Add the correct font weight in Chrome, Edge, and Safari.
         */

        b,
        strong {
            font-weight: bolder;
        }

        /**
         * 1. Correct the inheritance and scaling of font size in all browsers.
         * 2. Correct the odd `em` font sizing in all browsers.
         */

        code,
        kbd,
        samp {
            font-family: monospace, monospace; /* 1 */
            font-size: 1em; /* 2 */
        }

        /**
         * Add the correct font size in all browsers.
         */

        small {
            font-size: 80%;
        }

        /**
         * Prevent `sub` and `sup` elements from affecting the line height in
         * all browsers.
         */

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative;
            vertical-align: baseline;
        }

        sub {
            bottom: -0.25em;
        }

        sup {
            top: -0.5em;
        }

        /* Embedded content
           ========================================================================== */

        /**
         * Remove the border on images inside links in IE 10.
         */

        img {
            border-style: none;
        }

        /* Forms
           ========================================================================== */

        /**
         * 1. Change the font styles in all browsers.
         * 2. Remove the margin in Firefox and Safari.
         */

        button,
        input,
        optgroup,
        select,
        textarea {
            font-family: inherit; /* 1 */
            font-size: 100%; /* 1 */
            line-height: 1.15; /* 1 */
            margin: 0; /* 2 */
        }

        /**
         * Show the overflow in IE.
         * 1. Show the overflow in Edge.
         */

        button,
        input { /* 1 */
            overflow: visible;
        }

        /**
         * Remove the inheritance of text transform in Edge, Firefox, and IE.
         * 1. Remove the inheritance of text transform in Firefox.
         */

        button,
        select { /* 1 */
            text-transform: none;
        }

        /**
         * Correct the inability to style clickable types in iOS and Safari.
         */

        button,
        [type="button"],
        [type="reset"],
        [type="submit"] {
            -webkit-appearance: button;
        }

        /**
         * Remove the inner border and padding in Firefox.
         */

        button::-moz-focus-inner,
        [type="button"]::-moz-focus-inner,
        [type="reset"]::-moz-focus-inner,
        [type="submit"]::-moz-focus-inner {
            border-style: none;
            padding: 0;
        }

        /**
         * Restore the focus styles unset by the previous rule.
         */

        button:-moz-focusring,
        [type="button"]:-moz-focusring,
        [type="reset"]:-moz-focusring,
        [type="submit"]:-moz-focusring {
            outline: 1px dotted ButtonText;
        }

        /**
         * Correct the padding in Firefox.
         */

        fieldset {
            padding: 0.35em 0.75em 0.625em;
        }

        /**
         * 1. Correct the text wrapping in Edge and IE.
         * 2. Correct the color inheritance from `fieldset` elements in IE.
         * 3. Remove the padding so developers are not caught out when they zero out
         *    `fieldset` elements in all browsers.
         */

        legend {
            box-sizing: border-box; /* 1 */
            color: inherit; /* 2 */
            display: table; /* 1 */
            max-width: 100%; /* 1 */
            padding: 0; /* 3 */
            white-space: normal; /* 1 */
        }

        /**
         * Add the correct vertical alignment in Chrome, Firefox, and Opera.
         */

        progress {
            vertical-align: baseline;
        }

        /**
         * Remove the default vertical scrollbar in IE 10+.
         */

        textarea {
            overflow: auto;
        }

        /**
         * 1. Add the correct box sizing in IE 10.
         * 2. Remove the padding in IE 10.
         */

        [type="checkbox"],
        [type="radio"] {
            box-sizing: border-box; /* 1 */
            padding: 0; /* 2 */
        }

        /**
         * Correct the cursor style of increment and decrement buttons in Chrome.
         */

        [type="number"]::-webkit-inner-spin-button,
        [type="number"]::-webkit-outer-spin-button {
            height: auto;
        }

        /**
         * 1. Correct the odd appearance in Chrome and Safari.
         * 2. Correct the outline style in Safari.
         */

        [type="search"] {
            -webkit-appearance: textfield; /* 1 */
            outline-offset: -2px; /* 2 */
        }

        /**
         * Remove the inner padding in Chrome and Safari on macOS.
         */

        [type="search"]::-webkit-search-decoration {
            -webkit-appearance: none;
        }

        /**
         * 1. Correct the inability to style clickable types in iOS and Safari.
         * 2. Change font properties to `inherit` in Safari.
         */

        ::-webkit-file-upload-button {
            -webkit-appearance: button; /* 1 */
            font: inherit; /* 2 */
        }

        /* Interactive
           ========================================================================== */

        /*
         * Add the correct display in Edge, IE 10+, and Firefox.
         */

        details {
            display: block;
        }

        /*
         * Add the correct display in all browsers.
         */

        summary {
            display: list-item;
        }

        /* Misc
           ========================================================================== */

        /**
         * Add the correct display in IE 10+.
         */

        template {
            display: none;
        }

        /**
         * Add the correct display in IE 10.
         */

        [hidden] {
            display: none;
        }

        html {
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }

        *, *::before, *::after {
            -webkit-box-sizing: inherit;
            box-sizing: inherit;
        }

        p, h1, h2, h3, h4, h5, h6 {
            margin: 0;
        }

        img {
            max-width: 100%;
            height: auto;
        }

        .wrapper {
            max-width: 600px;
            margin: 0 auto;
            overflow: hidden;
        }

        .container {
            width: 100%;
            height: 100vh;
            position: relative;
        }

        .main-block {
            width: 100%;
            height: 100%;
            padding: 8vh 50px 8vh 50px;
            background: -webkit-gradient(linear, left bottom, left top, from(#cff0f9), color-stop(30%, #2cbbf7)); background: -o-linear-gradient(bottom, #cff0f9, #2cbbf7 30%); background: linear-gradient(to top, #cff0f9, #2cbbf7 30%);
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .main-block.hidden {
            visibility: hidden;
        }

        @keyframes preloader-rotate {
            100% {
                transform: rotate(360deg);
            }
        }
        @media screen and (max-width: 600px) {

            .bottom-block::after {
                top: -55vw;
            }

        }
        .preloader {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background: url(https://raw.githubusercontent.com/moscovig/roadio_static/master/images/image_q/preloader-img.png) center no-repeat;
            background-size: cover;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 999;
        }

        .preloader img {
            animation: preloader-rotate 2s infinite linear;
        }

        .preloader.hidden {
            display: none;
        }

        .quiz {
            max-width: 278px;
            margin: 0 auto;
        }

        .quiz-question {
            margin-bottom: 70px;
            font-family: Heebo, Arial, sans-serif;
            font-size: 26px;
            line-height: 1.27;
            color: #fff;
            text-align: center;
            max-width: 393px;
            font-weight: 700;
        }

        .quiz-answer.disabled {
            color: red;
        }

        .quiz-answer.correct {
            color: green;
            -webkit-box-shadow: none;
            box-shadow: none;
        }

        .quiz-answer {
            height: 46px;
            box-shadow: 2px 2px 2px 2px #7f7f80;
            cursor: pointer;
            margin-top: 6px;
            color: #7f7f80;
            font-weight: 500;
            text-align: center;
            font-size: 30px;
            line-height: 1.27;
            font-family: Heebo, Arial, sans-serif;
            padding: 3px 0;
            background: url(https://raw.githubusercontent.com/moscovig/roadio_static/master/images/image_q/btn-left.png) center no-repeat;
            margin: 0 auto 15px auto;

        }


        .form-success {
            background-color: rgba(255, 255, 255, 0.73);
            padding: 10px 10px 10px 5px;
            font-family: Heebo, Arial, sans-serif;
            font-size: 18px;
            font-weight: 900;
            font-style: normal;
            letter-spacing: normal;
            color: #4a4a4a;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .bottom-block {
            position: absolute;
            left: 0;
            bottom: 0;
            width: 100%;
            height: 18vh;
            background: url(https://raw.githubusercontent.com/moscovig/roadio_static/master/images/road.png) center no-repeat;
            background-size: cover;
        }

        .bottom-block::after {
            position: absolute;
            content: "";
            width: 100%;
            height: 335%;
            left: 0;
            background: url(https://raw.githubusercontent.com/moscovig/roadio_static/master/images/trees.png) 0 0 no-repeat;
            background-size: 97%;
            z-index: 100;
        }
    </style>
    <title>Roadio</title>
</head>
<body>
<div class="wrapper">
    <main>
        <div  class="container" dir="rtl">
            <div class="preloader">
                <img src="https://raw.githubusercontent.com/moscovig/roadio_static/master/images/image_q/loader.png" alt="preloader img">
            </div>
            <div id=main_block class="main-block hidden">
                <div class="quiz">
                    <div class="quiz-question">הכנו לכם הפתעה - רוצים להמשיך מכאן ישר לחידון בנושא לג בעומר? לחצו כן כדי להמשיך</div>
                         
                            <div class="quiz-answer" style="font-size: 26px;">חידון סיפורים</div>

                        
                            <div class="quiz-answer" style="font-size: 20px;">חידון כלי תחבורה</div>

                        
                            <div class="quiz-answer" style="font-size: 26px;">חידון חיות בארץ</div>

                        
                            <div class="quiz-answer" style="font-size: 26px;">בפעם אחרת</div>

                        
                </div>
            </div>
        </div>
<!--                    <div class="bottom-block"></div>-->
    </main>
</div>
<script>
    let mainBlock = document.querySelector('.main-block');
    let preloader = document.querySelector('.preloader');
    window.onload = function () {
        
            send_hide_footer()
        
        preloader.classList.add('hidden');
        mainBlock.classList.remove('hidden');
    }
</script>

<script type="text/javascript">

right_answer = ""
answers = {"\u05d1\u05e4\u05e2\u05dd \u05d0\u05d7\u05e8\u05ea": {"font_size": "26px", "next_id": -1}, "\u05d7\u05d9\u05d3\u05d5\u05df \u05d7\u05d9\u05d5\u05ea \u05d1\u05d0\u05e8\u05e5": {"font_size": "26px", "next_id": 7}, "\u05d7\u05d9\u05d3\u05d5\u05df \u05db\u05dc\u05d9 \u05ea\u05d7\u05d1\u05d5\u05e8\u05d4": {"font_size": "20px", "next_id": 4}, "\u05d7\u05d9\u05d3\u05d5\u05df \u05e1\u05d9\u05e4\u05d5\u05e8\u05d9\u05dd": {"font_size": "26px", "next_id": 1}}
attempt = 1
item_id = 54061357
direction = "rtl"
domain_url = "#"
event_answer = "answer"
event_rate = "rate"
event_next_item = "next"
event_show_story = "show_story"
event_footer = "footer"




function send_event(event_type, params_dict){
    url = domain_url
    url = url + "/"+event_type
    had_param = false
    for(var key in params_dict) {
        if(!had_param){
            url = url + "?"
            had_param = true
        }
        else{
            url = url + "&"
        }
        var value = params_dict[key];
        url = url + key + "=" + value
    }
   window.location.href = url

}

answer_buttons = document.getElementsByClassName("quiz-answer");
for (i = 0; i < answer_buttons.length; i++) {
    btn = answer_buttons[i]
    btn.onclick = function (event) {
                   check_answer(event.srcElement)
                }
}

function sleep (time) {
  return new Promise((resolve) => setTimeout(resolve, time));
}



function send_move_to_next(delay_millis, item_id){
    setTimeout(function() {
                send_event(event_next_item, {"item_id": item_id, "play_sound": false});
              }, delay_millis);
}

function send_show_footer(){
    send_event(event_footer, {"action": "show"})
}

function send_hide_footer(){
    send_event(event_footer, {"action": "hide"})
}


function send_answer(given_answer, is_right, attempt, score, show_animation, is_item_with_score, seen_id){
   params_dict = {"answer":given_answer.trim()}
   if(is_right != null){
        params_dict["is_right"] = is_right
   }
   if(attempt != null){
        params_dict["attempt"] = attempt
   }
   if(score != null){
        params_dict["score"] = score
   }
   if(show_animation != null){
        params_dict["show_animation"] = show_animation
   }
   if(is_item_with_score != null){
        params_dict["is_item_with_score"] = is_item_with_score
   }
   if(seen_id != null){
        params_dict["seen_id"] = seen_id
   }
   params_dict["play_sound"] = false
   send_event(event_answer, params_dict)
}


function send_show_story(){
    send_event(event_show_story, {})
}

function show_story(is_right){
    sleep_millis = 3200
    if(is_right){
        sleep_millis = 1700
    }
    sleep(sleep_millis).then(() => {
            if(!story){
                send_move_to_next()
            }
            else{
                send_show_story()
                 
                    send_show_footer()
                   
                show_roadio_story()
            }
    });
}

function hasClass(element, className) {
    return (' ' + element.className + ' ').indexOf(' ' + className+ ' ') > -1;
}

function check_answer(clicked_btn){

        answer = clicked_btn.innerHTML
        next_id = answers[answer]["next_id"]



        clicked_btn.style.color = "#38760e";

<!--        if (hasClass(clicked_btn, 'quiz-answer-2')){-->
<!--            clicked_btn.style.backgroundImage='url(https://raw.githubusercontent.com/moscovig/roadio_static/master/images/image_q/correct-right.png)';-->
<!--        }-->
<!--        else {-->
<!--            clicked_btn.style.backgroundImage='url(https://raw.githubusercontent.com/moscovig/roadio_static/master/images/image_q/correct-left.png)';-->
<!--        }-->
        clicked_btn.style.backgroundRepeat='no-repeat';
        clicked_btn.style.backgroundPosition='center';


        given_answer = answer + "^" + 1 + "^" + 0 + "^" + item_id
        given_answer = encodeURI(given_answer)
        send_answer(given_answer, true, attempt, 0, false, true, item_id)



        answer_buttons = document.getElementsByClassName("quiz-answer");
        for (i = 0; i < answer_buttons.length; i++) {
            btn = answer_buttons[i]
            btn.onclick = function (event) {
                           return false;
                        }
        }
        send_move_to_next(1000, next_id)
}

function show_roadio_story (){
    const mainBlock = document.getElementById('main_block')
    mainBlock.innerHTML = '<div class="form-success">'+story+'</div>'
    mainBlock.style.paddingBottom = '28vh'

}
function show_insta_story () {

    const mainBlock = document.getElementById('main_block')
    mainBlock.innerHTML = '<div id="story-div"></div>'
    const textBlock1 = document.getElementById('story-div')
    textBlock1.classList.add('form-success');
    const words1 = story
    const words2 = ""

    var delay = 350 // text appearance delay


    function anim(block, text, other_blocks) {
        var words = text.split(" "); // words array
        var currentIndex = 0; // для хранения очередности интервала

        block.classList.add('active');

        let intervalID = setInterval( function() {
            var word = words[currentIndex].split(""); // array - отдельные массивы с буквами каждого слова

            word.forEach((letter, index) => {

                setTimeout(() => {

                    // встраивание каждой буквы в html
                    block.append(document.createTextNode(letter));

                    if (word.length == index * 1 + 1) {
                        block.append(document.createTextNode(" ")); // добавление пробела после слова
                    }

                }, index * 25); //letters appearance delay
            });

            ++currentIndex;
            if(currentIndex >= words.length) {
                clearInterval(intervalID);
                if (other_blocks) {
                    other_blocks.forEach(item => {
                    if (item.text){
                            anim(item.block, item.text, null, true)
                        }
                    })
                }
            }

        }, delay);

    }

    anim(textBlock1, words1, []);


}


</script>
</body>
</html>